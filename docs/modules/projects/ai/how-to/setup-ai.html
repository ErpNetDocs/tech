<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Setup AI | ERP.net Tech Docs </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Setup AI | ERP.net Tech Docs ">
      
      
      <link rel="icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ErpNetDocs/tech/blob/master/modules/projects/ai/how-to/setup-ai.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="setup-ai">Setup AI</h1>

<p>Before anyone can chat with AI or use it in business rules, an administrator needs to do a one-time setup. Think of this as the <strong>AI onboarding checklist</strong> for your ERP.net environment:</p>
<ol>
<li><p><strong>Configure an AI Server site</strong></p>
</li>
<li><p><strong>Connect a Provider (OpenAI)</strong><br>
Add your AI provider using an active OpenAI account and API key.</p>
</li>
</ol>
<div class="NOTE">
<h5>Note</h5>
<p>All API usage is billed <strong>directly by OpenAI</strong> under your account, so you stay in full control of AI costs.</p>
</div>
<ol start="3">
<li><p><strong>Create a Model (your AI assistant)</strong><br>
Define one or more models that represent the AI assistants you’ll use<br>
(for example, <em>Project AI</em>, <em>Sales AI</em>, or a generic <em>Master AI</em>).</p>
</li>
<li><p><strong>Compile the Model (optional)</strong>
If you plan to use a <strong>fine-tuned model</strong> as a chat Arbiter or for the <strong>AI Assistant</strong> feature, run a compilation so the model can use your training data and additional instructions.</p>
</li>
<li><p><strong>Assign a Model to Users (optional)</strong><br>
If you want users to be able to chat with their AI assistant, assign a default model to them.</p>
</li>
</ol>
<p>Once this setup is done, end users can seamlessly work with:</p>
<ul>
<li><strong>AI Assistants</strong> in chat</li>
<li><strong>Chat Arbiters</strong> in group conversations</li>
<li><strong>Business rules</strong> powered by AI</li>
<li><strong>Ingest</strong> for feeding data into AI</li>
</ul>
<p>…all without needing to know anything about API keys, providers, or models.</p>
<h2 id="1-ai-server-site">1. AI Server Site</h2>
<p>The AI Server site is a small, one-time configuration that prepares your ERP instance for the newer AI architecture.</p>
<h4 id="creating-the-ai-server-site">Creating the AI Server Site</h4>
<ol>
<li>Open <strong>the Web Sites navigator</strong>.</li>
<li>Click <strong>New</strong> to create a new web site record.</li>
<li>Set <strong>Type</strong> to <code>AI Server</code>.</li>
<li>The <strong>Relative URL</strong> will be filled automatically based on the default name.</li>
<li>Click <strong>Save</strong>.</li>
</ol>
<p><img src="ai_server_site.png" alt="AI Server Site"></p>
<p>This is usually all that is needed.<br>
Once saved, the ERP instance is considered “AI-ready” from an infrastructure standpoint.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Make sure your license includes at least one site — the AI Server site uses the standard site licensing.</p>
</div>
<h2 id="2-provider-openai">2. Provider (OpenAI)</h2>
<p>After the AI Server site is configured, the next step is to define at least one <strong>AI Provider</strong>.<br>
A provider represents an external AI service – currently, <strong>OpenAI</strong>. .</p>
<p>In this step, you will:</p>
<ol>
<li>Create (or log into) your OpenAI account.</li>
<li>Configure API access and generate an API key.</li>
<li>Create a Provider record in ERP.net and paste the key.</li>
</ol>
<h3 id="21-create-an-openai-account">2.1 Create an OpenAI account</h3>
<ol>
<li>Open the OpenAI platform: <a href="https://platform.openai.com/">https://platform.openai.com/</a></li>
<li>Click <strong>Sign up</strong> (or <strong>Log in</strong> if you already have an account).</li>
<li>Complete the registration steps (email, password, verification).</li>
</ol>
<blockquote>
<p><strong>Recommendation</strong><br>
For production use, create the account with a <strong>company email</strong> so that billing and access stay under organizational control.</p>
</blockquote>
<h3 id="22-configure-api-access-and-create-an-api-key">2.2 Configure API access and create an API key</h3>
<p>To allow ERP.net to call OpenAI, you need an API key.</p>
<ol>
<li>While logged into <a href="https://platform.openai.com/">https://platform.openai.com/</a>, go to <strong>API keys</strong>.</li>
<li>Click <strong>Create new secret key</strong>.</li>
<li>Enter a descriptive name, for example: <code>ERP.net Production</code>.</li>
<li>Click <strong>Create</strong> and copy the generated key.</li>
</ol>
<blockquote>
<p><strong>Keep it secure</strong></p>
<ul>
<li>Treat the API key like a password.</li>
<li>Store it in a secure place (password manager, secret vault, etc.).</li>
<li>If the key is exposed, revoke it in the OpenAI portal and create a new one.</li>
</ul>
</blockquote>
<h3 id="23-define-the-provider-in-erpnet">2.3 Define the Provider in ERP.net</h3>
<p>Next, create the Provider record that will store the connection to OpenAI.</p>
<ol>
<li>In ERP.net, open <strong>[Module &gt; AI &gt; Providers]</strong>.</li>
<li>Click <strong>New</strong>.</li>
<li>Fill in the fields:
<ul>
<li><strong>Name</strong> – A clear name, for example <code>OpenAI Main</code>.</li>
<li><strong>Provider</strong> – Select <strong>OpenAI</strong>.</li>
<li><strong>Base Model Name</strong> – the base OpenAI model that this Provider should use (for example, <code>gpt-4o</code> or <code>gpt-4o-mini</code>). If you’re not sure which OpenAI model to pick, see the next section for guidance on <strong>how to choose the right base model</strong> for your scenario.</li>
<li><strong>API Key</strong> – Paste the secret key you created in step 2.2.</li>
</ul>
</li>
<li>Save the Provider.</li>
</ol>
<blockquote>
<p><strong>Tip</strong><br>
Use descriptive names like <code>Test – gpt-4o-mini</code> and <code>Production – gpt-4o</code> so it’s immediately clear which model and environment each Provider uses.</p>
</blockquote>
<p><img src="provider.png" alt="Provider"></p>
<h3 id="choose-a-base-model-and-provider-strategy">Choose a base model and provider strategy</h3>
<p>Each OpenAI Provider in ERP.net has a <strong>Base Model Name</strong> field.<br>
This field defines which OpenAI model will be used when calling this Provider.</p>
<p>Typical choices include, for example:</p>
<ul>
<li><code>gpt-4o-mini</code> – cost-effective, suitable for high-volume or simpler scenarios.</li>
<li><code>gpt-4o</code> – higher quality at higher cost, suitable for complex conversations or critical business logic.</li>
</ul>
<p>Each company typically defines <strong>at least one Provider</strong> pointing to its OpenAI account, but you may create multiple Providers when you want to:</p>
<ul>
<li>Use different OpenAI base models for different scenarios (for example, a cheaper model for everyday users and a more powerful model for management or critical processes).</li>
<li>Separate <strong>test</strong> and <strong>production</strong> usage (for example, different models or different OpenAI projects/keys).</li>
</ul>
<p>You don’t have to decide everything up front, but it helps to agree internally on:</p>
<ul>
<li>Which base model to use in <strong>production</strong>.</li>
<li>Whether you want a <strong>separate Provider for testing vs. real work</strong>.</li>
<li>Whether you need <strong>different Providers for different user groups</strong>, for example:
<ul>
<li>a cheaper model for common users;</li>
<li>a more powerful model for management or critical processes.</li>
</ul>
</li>
<li>A rough <strong>budget</strong> for monthly AI usage.</li>
</ul>
<h2 id="3-model">3. Model</h2>
<p>An <strong>AI Model</strong> in ERP.net represents a concrete model configuration:</p>
<ul>
<li>which provider and base model it uses,</li>
<li>what system instructions it follows,</li>
<li>what training data it is connected to,</li>
<li>and whether it is available in the assistant panel, in chats, for the additional AI functionalities, or in all of them.</li>
</ul>
<p>You can define <strong>multiple models</strong> – for example:</p>
<ul>
<li>“Company Master Assistant”</li>
<li>“AI Marketing Assistant”</li>
<li>“AI Sales Assistant”</li>
<li>“AI Developer Helper”</li>
<li>or simply “AI Assistant”</li>
</ul>
<h3 id="creating-the-model-more-info-about-each-setting">Creating the Model (more info about each setting)</h3>
<ol>
<li>Open <strong>the Model navigator</strong>.</li>
<li>Click <strong>New</strong> to create a new model record.</li>
<li>Fill in the following fields:</li>
</ol>
<ul>
<li><p><strong>Name</strong><br>
Human-readable model name, e.g., <code>AI Marketing Assistant</code>.</p>
</li>
<li><p><strong>Provider</strong><br>
Links the model to one of the configured <strong>AI Providers</strong>, and therefore to a specific base model and billing account.</p>
<ul>
<li><strong>Default model</strong><br>
Marks this model as the <strong>system default</strong>.<br>
System-level AI actions (e.g., business rules, Ingest) use the default model when no user-specific model is assigned.<br>
Only <strong>one</strong> model can be the  default at a time.</li>
</ul>
</li>
<li><p><strong>Build assistant</strong><br>
Controls how this model is used:</p>
<ul>
<li><code>Yes</code>/ checked → the model is used as an <strong>assistant</strong> in the AI Assistant app and assistant panels in forms.<br>
In this mode, it does <strong>not</strong> use Q&amp;A / training conversations for fine-tuning.</li>
<li><code>No</code> / not checked → the model can be <strong>fine-tuned</strong> with:
<ul>
<li>Q&amp;A records, and</li>
<li>Training Conversations.<br>
These models are typically used as <strong>chat arbiters</strong> in channels or as specialized assistants.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Virtual User</strong> (optional)<br>
A <strong>Virtual User</strong> whose identity the model uses in chats and in the assistant panel.<br>
This is the “user” you see in group chats when the AI responds.</p>
<p>This field is required only if the model will be used in conversations (AI Assistant or chat arbiter).<br>
If the model is used solely for background operations such as <strong>Ingest</strong>, this setting is not required.</p>
<p>Each virtual user can be linked to <strong>only one</strong> AI model (no duplicates are allowed).<br>
If you need a new one, you can create it:</p>
<ul>
<li>from <strong>Navigator → Users</strong>, or</li>
<li>directly from the <strong>Virtual User</strong> field via right-click → <strong>Create new</strong>  (If the menu is not visible, click <strong>Edit</strong> on the model first.)</li>
</ul>
<p>When creating the user, the only mandatory setting is:</p>
<ul>
<li><strong>User Type</strong> = <code>Virtual User (No login)</code></li>
</ul>
</li>
<li><p><strong>Parent</strong> (optional)<br>
Used to build a <strong>hierarchical structure</strong> of models.<br>
A parent model can aggregate training from its children, which is useful for a “master” company-wide assistant.
red.</p>
</li>
<li><p><strong>System message</strong> (optional)<br>
Global instructions that always apply to the model, such as:</p>
<ul>
<li>tone of voice (formal/informal),</li>
<li>language preferences,</li>
<li>how to address users,</li>
<li>specific company naming conventions, etc.</li>
</ul>
<p>Keep this short and focused – typically up to 5-6 sentences of text at most.</p>
</li>
<li><p><strong>Conversation compilation</strong><br>
Reference to the <strong>latest successful compilation</strong> that the model uses at runtime.<br>
This field is maintained automatically after each compile.</p>
</li>
</ul>
<h2 id="4-model-compilation">4. Model Compilation</h2>
<p>Once a model is configured, it can be <strong>compiled</strong>.<br>
Compilation sends the model’s configuration and training data to the AI provider and creates a runnable assistant configuration there.</p>
<p>Compilation is required in only two cases:</p>
<blockquote>
<ul>
<li>when you want to use a <strong>fine-tuned model</strong> as an Arbiter (with Q&amp;A and/or Training Conversations), or</li>
<li>when you want to use a dedicated <strong>AI Assistant</strong> (the <em>My Assistant</em> app or assistant panel).<br>
In all other scenarios, ERP.net works directly with the <strong>base model</strong> defined in the AI Provider and does not require compilation.</li>
</ul>
</blockquote>
<h3 id="running-a-compilation">Running a compilation</h3>
<p>Here is some info on how to initiate a compilation and how to read its results.</p>
<ol>
<li>Open the model definition.</li>
<li>Use <strong>Run → Compile</strong>.</li>
<li>Wait for the compilation to complete.</li>
</ol>
<p><img src="compile_button.png" alt="Compile Button"></p>
<p>Once the compilation is started, you should simply wait for its result.</p>
<blockquote>
<p>Compilation time can vary:</p>
<ul>
<li>Simple assistant models: usually a few minutes.</li>
<li>Models with many Q&amp;A and Training Conversations: can take longer, depending on the volume of training data.</li>
</ul>
</blockquote>
<p>The result of each compilation is stored in the <strong>Compilations</strong> sub-panel of the model:</p>
<ul>
<li>Each row shows the <strong>Start Time Utc</strong>, <strong>Completion Time Utc</strong>, <strong>Status</strong>, <strong>Is Successful</strong>, and other fields.</li>
<li>The <strong>Status</strong> field shows the current state (for example: <code>Queued</code>, <code>Running</code>, <code>Completed</code>).</li>
<li>The <strong>Is Successful</strong> flag (<code>Yes/No</code>) clearly indicates whether the compilation has finished successfully.</li>
</ul>
<p><img src="compilations_panel.png" alt="Compilations Panel.png"></p>
<p>To monitor the <strong>Status</strong>, you can regularly check the <em>Compilations</em> sub-panel described above or simply wait for the system notification. When a compilation finishes, the user who started it receives a message in the <strong>Notifications</strong> icon (for example: “Compilation of model ‘My Personal Assistant’ completed”), which is the quickest way to see that the process has ended.</p>
<p>If the compilation is <strong>successful</strong>, you can continue using the model as configured.</p>
<p><img src="compilation_success.png" alt="Compilations Success.png"></p>
<p>If the compilation <strong>fails</strong>:</p>
<ol>
<li>Review the <strong>Error Message</strong> for the main cause (for example, an invalid or unsupported base model).</li>
<li>If necessary, open the <strong>Build Log</strong> to investigate further details.</li>
</ol>
<p><img src="compilation_error.png" alt="Compilations Error.png"></p>
<p>After fixing the configuration, you can run the compilation again.<br>
Existing, previously successful compilations remain active and are used by the system until a new compilation completes successfully.</p>
<h2 id="5-assigning-a-model-to-users">5. Assigning a model to users</h2>
<p>This step is required <strong>only if you plan to use the AI Assistant functionality</strong> (the My Assistant app and assistant panels in forms).</p>
<h4 id="user-configuration">User configuration</h4>
<ol>
<li>Open <strong>Users</strong>.</li>
<li>Open the user’s record (e.g., <code>Admin</code>).</li>
<li>In the <strong>Model</strong> field, select the desired AI Model.</li>
</ol>
<p>This model will be used:</p>
<ul>
<li>in the <strong>AI Assistant app</strong>,</li>
<li>and in <strong>assistant panels</strong> inside forms.</li>
</ul>
<blockquote>
<p>All AI Assistant conversations are user-specific and protected by the ERP.net security system.<br>
One user cannot see another user’s assistant conversations.</p>
</blockquote>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ErpNetDocs/tech/blob/master/modules/projects/ai/how-to/setup-ai.md/#L1" class="edit-link">Suggest improvement to this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
